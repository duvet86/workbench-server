(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/app/AppContainer.tsx":function(e,t,a){"use strict";a.r(t);var n=a("./node_modules/react/index.js"),o=a.n(n),r=a("./node_modules/react-redux/es/index.js"),l=a("./src/app/actions.ts"),s=a("./node_modules/@material-ui/core/styles/index.js"),i=a("./node_modules/react-router-dom/es/Switch.js"),c=a("./node_modules/react-router-dom/es/Route.js"),d=a("./node_modules/@material-ui/core/Grid/index.js"),m=a.n(d),p=a("./src/lib/loadAsync.ts");const h=()=>o.a.createElement("div",null,"Not Found.");var u=()=>o.a.createElement(c.a,{component:h});const b=Object(s.createStyles)({gridContainer:{marginBottom:48}});var g=Object(s.withStyles)(b)(({classes:e})=>o.a.createElement(m.a,{container:!0,className:e.gridContainer},o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(i.a,null,o.a.createElement(c.a,{exact:!0,path:"/",component:Object(p.a)(()=>a.e(5).then(a.bind(null,"./src/welcomePage/WelcomePage.tsx")))}),o.a.createElement(c.a,{exact:!0,path:"/workbench/:id",component:Object(p.a)(()=>Promise.all([a.e(1),a.e(10),a.e(6)]).then(a.bind(null,"./src/workbench/Workbench.tsx")))}),o.a.createElement(c.a,{exact:!0,path:"/pagebuilder/:id",component:Object(p.a)(()=>a.e(7).then(a.bind(null,"./src/pagebuilder/Pagebuilder.tsx")))}),o.a.createElement(c.a,{exact:!0,path:"/profile",component:Object(p.a)(()=>a.e(8).then(a.bind(null,"./src/profile/ProfileContainer.tsx")))}),o.a.createElement(c.a,{exact:!0,path:"/error",component:Object(p.a)(()=>a.e(9).then(a.bind(null,"./src/errorPage/ErrorPageContainer.tsx")))}),o.a.createElement(u,null))))),O=a("./node_modules/@material-ui/core/Drawer/index.js"),y=a.n(O),j=a("./src/sidebar/navigationTabs/actions.ts"),E=a("./node_modules/@material-ui/core/Tab/index.js"),C=a.n(E),f=a("./node_modules/@material-ui/core/Tabs/index.js"),x=a.n(f),w=[{id:1,label:"My Items"},{id:2,label:"Filters"},{id:3,label:"Tools"}],v=Object(s.withStyles)(({breakpoints:e,spacing:{unit:t}})=>Object(s.createStyles)({tabRoot:{minWidth:0,maxWidth:"100%"},labelContainer:{[e.up("md")]:{paddingLeft:2*t,paddingRight:2*t}},textColorPrimary:{color:"black"}}))(({classes:e,selectedTab:t,tabsEnabled:a,handleChange:n})=>o.a.createElement(x.a,{fullWidth:!0,value:t,onChange:n,indicatorColor:"primary",textColor:"primary"},w.filter((e,t)=>!a[t]).map(({id:t,label:a})=>o.a.createElement(C.a,{key:t,label:a,classes:{root:e.tabRoot,labelContainer:e.labelContainer,textColorPrimary:e.textColorPrimary}})),"/>")),k=Object(r.connect)(({navigationTabsReducer:{selectedTab:e,tabsEnabled:t}})=>({selectedTab:e,tabsEnabled:t}),e=>({dispatchShowMyItems:t=>{e(Object(j.c)(t))},dispatchShowFilters:t=>{e(Object(j.b)(t))},dispatchShowMyTools:t=>{e(Object(j.d)(t))}}))(class extends n.Component{constructor(){super(...arguments),this.handleChange=((e,t)=>{const{dispatchShowMyItems:a,dispatchShowFilters:n,dispatchShowMyTools:o}=this.props;switch(t){case 1:n();break;case 2:o();break;default:a()}})}componentDidMount(){const{location:{pathname:e}}=this.props;this.updateActivetab(e)}componentDidUpdate(e){const{location:{pathname:t}}=this.props,{location:{pathname:a}}=e;t!==a&&this.updateActivetab(t)}render(){const{selectedTab:e,tabsEnabled:t}=this.props;return o.a.createElement(v,{selectedTab:e,tabsEnabled:t,handleChange:this.handleChange})}updateActivetab(e){const{dispatchShowFilters:t,dispatchShowMyTools:a}=this.props;return e.includes("/pagebuilder/")?t([!1,!1,!0]):e.includes("/workbench/")?a([!1,!1,!1]):void 0}}),S=a("./src/sidebar/myItems/actions.ts"),P=a("./src/common/loading/index.ts"),L=a("./node_modules/@material-ui/core/List/index.js"),I=a.n(L),T=a("./node_modules/@material-ui/core/Collapse/index.js"),M=a.n(T),_=a("./node_modules/@material-ui/core/ListItem/index.js"),H=a.n(_),N=a("./node_modules/@material-ui/core/ListItemText/index.js"),F=a.n(N),R=a("./node_modules/@material-ui/icons/Folder.js"),W=a.n(R),D=a("./node_modules/@material-ui/icons/FolderOpen.js"),B=a.n(D),A=a("./node_modules/react-router-dom/es/NavLink.js"),z=a("./node_modules/@material-ui/icons/Dashboard.js"),Q=a.n(z),q=Object(s.withStyles)(({typography:e})=>Object(s.createStyles)({item:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{color:"#696969"},heading:{fontSize:e.pxToRem(15),fontWeight:e.fontWeightRegular}}),{withTheme:!0})(({classes:e,itemId:t,label:a,nested:n,theme:r})=>o.a.createElement(H.a,{divider:!0,button:!0,component:(e=>({children:t,className:a,style:n})=>o.a.createElement(A.a,{className:a,style:n,to:`/workbench/${e}`},t))(t),className:e.item,style:{paddingLeft:n*r.spacing.unit*2}},o.a.createElement(Q.a,{className:e.icon}),o.a.createElement(F.a,{primary:a,classes:{primary:e.heading}}))),J=Object(s.withStyles)(e=>Object(s.createStyles)({icon:{color:"#696969"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}),{withTheme:!0})(({classes:e,location:t,label:a,childFolders:r,handleClick:l,expanded:s,nested:i,theme:c})=>o.a.createElement(n.Fragment,null,o.a.createElement(H.a,{divider:!0,button:!0,onClick:l,style:{paddingLeft:i*c.spacing.unit*2}},s?o.a.createElement(B.a,{className:e.icon}):o.a.createElement(W.a,{className:e.icon}),o.a.createElement(F.a,{primary:a,classes:{primary:e.heading}})),o.a.createElement(M.a,{in:s,timeout:"auto",unmountOnExit:!0},o.a.createElement(I.a,{disablePadding:!0,component:"nav"},r.map(({ChildType:e,ChildFolderId:a,ChildFolder:n,ChildItemId:r,ChildItem:l})=>"F"===e?o.a.createElement($,{nested:i+1,key:a,label:n.Label,childFolders:n.Children,location:t}):o.a.createElement(q,{nested:i+1,key:r,itemId:l.ItemId,label:l.Label})))))),$=class extends n.Component{constructor(){super(...arguments),this.state={expanded:!1},this.handleClick=(()=>{this.setState(e=>({expanded:!e.expanded}))})}componentDidMount(){const{childFolders:e,location:t}=this.props;e&&0!==e.length&&e.some(e=>"I"===e.ChildType&&`/workbench/${e.ChildItemId}`===t.pathname)&&this.setState({expanded:!0})}render(){const{nested:e,location:t,label:a,childFolders:n}=this.props,{expanded:r}=this.state;return 0===n.length?null:o.a.createElement(J,{nested:e,label:a,childFolders:n,handleClick:this.handleClick,expanded:r,location:t})}};const G=Object(s.createStyles)({list:{padding:0},listItem:{cursor:"pointer"},avatar:{width:35,height:35},icon:{width:25,height:25}});var U=Object(s.withStyles)(G)(({classes:e,items:t,location:a})=>o.a.createElement(I.a,{className:e.list},t.myItems.map(({ChildType:e,ChildFolderId:t,ChildFolder:n,ChildItemId:r,ChildItem:l})=>"F"===e?o.a.createElement($,{nested:1,key:t,label:n.Label,childFolders:n.Children,location:a}):o.a.createElement(q,{nested:1,key:r,itemId:l.ItemId,label:l.Label})))),Y=Object(r.connect)(({myItemsReducer:{isLoading:e,items:t}})=>({isLoading:e,items:t}),e=>({dispatchLoadMyItems:()=>{e(Object(S.b)())}}))(class extends n.Component{componentDidMount(){this.props.dispatchLoadMyItems()}render(){const{items:e,location:t}=this.props;return o.a.createElement(P.c,{isLoading:this.props.isLoading},e&&o.a.createElement(U,{items:e,location:t}))}}),K=a("./src/sidebar/operators/actions.ts"),V=a("./node_modules/@material-ui/core/Avatar/index.js"),X=a.n(V),Z=a("./node_modules/@material-ui/core/ListItemIcon/index.js"),ee=a.n(Z),te=a("./node_modules/@material-ui/icons/DragIndicator.js"),ae=a.n(te),ne=Object(s.withStyles)(({typography:e})=>Object(s.createStyles)({listItemRoot:{minHeight:70,paddingTop:3,paddingBottom:3},heading:{fontSize:e.pxToRem(15),fontWeight:e.fontWeightRegular},avatarContainer:{display:"flex",alignItems:"center",cursor:"pointer",padding:8,borderRadius:5,border:"1px solid #ddd"}}))(({classes:e,label:t,description:a,IconComponent:r,backgroundColor:l,operatorServiceId:s})=>o.a.createElement(n.Fragment,null,o.a.createElement(H.a,{divider:!0,classes:{root:e.listItemRoot}},o.a.createElement(F.a,{primary:t,secondary:a,classes:{primary:e.heading}}),o.a.createElement("div",{className:e.avatarContainer,draggable:!0,onDragStart:(e=>t=>{t.dataTransfer.setData("ELEMENT",e)})(s)},o.a.createElement(ee.a,null,o.a.createElement(ae.a,null)),o.a.createElement(X.a,{style:{backgroundColor:l}},o.a.createElement(r,null)))))),oe=({operators:e})=>o.a.createElement(I.a,null,e&&Object.keys(e).map(t=>o.a.createElement(ne,Object.assign({key:t},e[t])))),re=Object(r.connect)(({operatorsReducer:{isLoading:e,operators:t}})=>({operators:t,isLoading:e}),e=>({dispatchLoadOperators:()=>{e(Object(K.b)())}}))(class extends n.Component{componentDidMount(){this.props.dispatchLoadOperators()}render(){const e=this.props,{isLoading:t}=e,a=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a}(e,["isLoading"]);return o.a.createElement(P.c,{isLoading:this.props.isLoading},o.a.createElement(oe,Object.assign({},a)))}});const le=Object(s.createStyles)({bodyContainer:{overflow:"auto",marginBottom:48,height:"100%"}});var se=Object(s.withStyles)(le)(({classes:e,tabRenderer:t})=>o.a.createElement("div",{className:e.bodyContainer},t())),ie=Object(r.connect)(({navigationTabsReducer:{selectedTab:e}})=>({selectedTab:e}))(e=>{var{selectedTab:t}=e,a=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a}(e,["selectedTab"]);let n;switch(t){case 1:n=o.a.createElement("div",null,"Filters");break;case 2:n=o.a.createElement(re,Object.assign({},a));break;default:n=o.a.createElement(Y,Object.assign({},a))}return o.a.createElement(se,{tabRenderer:()=>n})});const ce={position:"relative"},de=Object(s.createStyles)({drawerOpen:Object.assign({},ce,{width:300}),drawerClosed:Object.assign({},ce,{width:0})});var me=Object(s.withStyles)(de)(e=>{var{classes:t,open:a}=e,n=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a}(e,["classes","open"]);return o.a.createElement(y.a,{classes:{paper:a?t.drawerOpen:t.drawerClosed},variant:"persistent",open:a},o.a.createElement(k,Object.assign({},n)),o.a.createElement(ie,Object.assign({},n)))}),pe=a("./node_modules/connected-react-router/lib/index.js"),he=a("./src/lib/sessionStorageApi.ts"),ue=a("./src/topBar/trimbleLogo.png"),be=a.n(ue),ge=a("./node_modules/react-router-dom/es/Link.js"),Oe=a("./node_modules/@material-ui/core/AppBar/index.js"),ye=a.n(Oe),je=a("./node_modules/@material-ui/core/Button/index.js"),Ee=a.n(je),Ce=a("./node_modules/@material-ui/core/IconButton/index.js"),fe=a.n(Ce),xe=a("./node_modules/@material-ui/core/Menu/index.js"),we=a.n(xe),ve=a("./node_modules/@material-ui/core/MenuItem/index.js"),ke=a.n(ve),Se=a("./node_modules/@material-ui/core/Toolbar/index.js"),Pe=a.n(Se),Le=a("./node_modules/@material-ui/core/Typography/index.js"),Ie=a.n(Le),Te=a("./node_modules/@material-ui/icons/Menu.js"),Me=a.n(Te),_e=a("./node_modules/@material-ui/icons/Person.js"),He=a.n(_e),Ne=Object(s.withStyles)(({mixins:e,zIndex:t})=>Object(s.createStyles)({appBar:{position:"relative",zIndex:t.drawer+2},trimbleLogo:{height:"36px",padding:"4px 0"},iconContainer:{display:"flex",alignItems:"center"},matchColor:{color:"#01609d"},toolBar:Object.assign({justifyContent:"space-between"},Object.keys(e.toolbar).reduce((t,a)=>{const n=e.toolbar[a]-10;return Object.assign({},t,{[a]:n})},{}))}))(e=>{var{classes:t,anchorEl:a,open:n,onMenuClickHandler:r,onMenuCloseHandler:l,onWelcomePageClickHandler:s,onLogoutClickHandler:i,onProfileClickHandler:c,handleDrawerOpen:d}=e,m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a}(e,["classes","anchorEl","open","onMenuClickHandler","onMenuCloseHandler","onWelcomePageClickHandler","onLogoutClickHandler","onProfileClickHandler","handleDrawerOpen"]);return o.a.createElement(ye.a,Object.assign({},m,{className:t.appBar}),o.a.createElement(Pe.a,{className:t.toolBar},o.a.createElement("div",{className:t.iconContainer},o.a.createElement(fe.a,{className:t.matchColor,"aria-label":"open drawer",onClick:d},o.a.createElement(Me.a,null)),o.a.createElement(ge.a,{to:"/"},o.a.createElement("img",{src:be.a,className:t.trimbleLogo,alt:"trimbleLogo"}))),o.a.createElement(Ie.a,{variant:"title",className:t.matchColor},"CONNECTED MINE ANALYTIC"),o.a.createElement("div",null,o.a.createElement(Ee.a,{color:"inherit",onClick:r},o.a.createElement(He.a,{className:t.matchColor})),o.a.createElement(we.a,{id:"menu-appbar",anchorEl:a,getContentAnchorEl:void 0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:n,onClose:l},o.a.createElement(ke.a,{onClick:s},"Welcome Page"),o.a.createElement(ke.a,{onClick:c},"Profile"),o.a.createElement(ke.a,{onClick:i},"Sign Out")))))}),Fe=Object(r.connect)(null,e=>({dispatchWelcomePage:()=>{e(Object(pe.push)("/"))},dispatchLogout:()=>{Object(he.a)(),e(Object(pe.push)("/login"))},dispatchProfileClick:()=>{e(Object(pe.push)("/profile"))}}))(class extends n.Component{constructor(){super(...arguments),this.state={anchorEl:void 0},this.onMenuClickHandler=(e=>{this.setState({anchorEl:e.currentTarget})}),this.onMenuCloseHandler=(()=>this.setState({anchorEl:void 0})),this.onWelcomePageClickHandler=(()=>{this.onMenuCloseHandler();const{dispatchWelcomePage:e}=this.props;e()}),this.onProfileClickHandler=(()=>{this.onMenuCloseHandler();const{dispatchProfileClick:e}=this.props;e()}),this.onLogoutClickHandler=(()=>{this.onMenuCloseHandler();const{dispatchLogout:e}=this.props;e()})}render(){const{anchorEl:e}=this.state,t=this.props,{dispatchLogout:a,dispatchProfileClick:n,dispatchWelcomePage:r}=t,l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a}(t,["dispatchLogout","dispatchProfileClick","dispatchWelcomePage"]),s=Boolean(e);return o.a.createElement(Ne,Object.assign({},l,{anchorEl:e,open:s,onMenuClickHandler:this.onMenuClickHandler,onMenuCloseHandler:this.onMenuCloseHandler,onWelcomePageClickHandler:this.onWelcomePageClickHandler,onProfileClickHandler:this.onProfileClickHandler,onLogoutClickHandler:this.onLogoutClickHandler}))}});const Re=Object(s.createStyles)({bodyContainer:{display:"flex",height:"100%",width:"100%"}});var We=Object(s.withStyles)(Re)(e=>{var{classes:t,handleDrawerOpen:a,open:r,isQesEnabled:l}=e,s=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]])}return a}(e,["classes","handleDrawerOpen","open","isQesEnabled"]);return l?o.a.createElement(n.Fragment,null,o.a.createElement(Fe,{handleDrawerOpen:a}),o.a.createElement("div",{className:t.bodyContainer},o.a.createElement(me,Object.assign({open:r},s)),o.a.createElement(g,null))):o.a.createElement("div",null,"Workbench features are not enabled.")});t.default=Object(r.connect)(({appReducer:{isLoading:e,isQesEnabled:t}})=>({isLoading:e,isQesEnabled:t}),e=>({dispatchQesEnabledRequest:()=>{e(Object(l.b)())}}))(class extends n.Component{constructor(){super(...arguments),this.state={open:!0},this.handleDrawerOpen=(()=>{this.setState(e=>({open:!e.open}))})}componentDidMount(){this.props.dispatchQesEnabledRequest()}render(){return o.a.createElement(P.c,{isLoading:this.props.isLoading},o.a.createElement(We,Object.assign({},this.props,{open:this.state.open,handleDrawerOpen:this.handleDrawerOpen})))}})},"./src/topBar/trimbleLogo.png":function(e,t,a){e.exports=a.p+"cf2ce1fbc2b8b96b4dcc82229545ac5b.png"}}]);
//# sourceMappingURL=4.bundle.js.map
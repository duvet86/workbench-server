(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./src/welcomePage/WelcomePage.tsx":function(e,t,a){"use strict";a.r(t);var n=a("./node_modules/react/index.js"),r=a.n(n),i=a("./node_modules/@material-ui/core/styles/index.js"),l=a("./node_modules/@material-ui/core/Grid/index.js"),s=a.n(l),o=a("./node_modules/@material-ui/core/Typography/index.js"),c=a.n(o),d=a("./node_modules/react-router-dom/es/NavLink.js"),h=a("./node_modules/@material-ui/core/Card/index.js"),m=a.n(h),u=a("./node_modules/@material-ui/core/CardContent/index.js"),p=a.n(u);const v=Object(i.createStyles)({iconColor:{color:"initial"}});var y=Object(i.withStyles)(v)(({classes:e,IconComponent:t,label:a,description:n,to:i})=>r.a.createElement(d.a,{to:i},r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(t,{className:e.iconColor}),r.a.createElement(c.a,{variant:"h5",component:"h2"},a),r.a.createElement(c.a,{component:"p"},n))))),g=a("./node_modules/@material-ui/icons/Build.js"),x=a.n(g),E=a("./node_modules/@material-ui/icons/ContactPhone.js"),C=a.n(E),b=a("./node_modules/@material-ui/icons/Info.js"),I=a.n(b),f=a("./node_modules/@material-ui/icons/Person.js"),D=a.n(f),S=a("./src/common/icons.ts");var O,T=[{id:1,IconComponent:S.b,label:"New Workbench",description:"This is where you can query, filter and manipulate your data.",to:"/workbench/new"},{id:2,IconComponent:S.a,label:"New Pagebuilder",description:"This is where you visualise your queries.",to:"/pagebuilder/new"},{id:3,IconComponent:x.a,label:"Configure Session",description:"This is where you tune your workbench.",to:"/"},{id:4,IconComponent:D.a,label:"Profile",description:"This is where you change your personal information.",to:"/profile"},{id:5,IconComponent:C.a,label:"Contact Us",description:"For any trouble or info contact us here.",to:"/"},{id:6,IconComponent:I.a,label:"Product Info",description:"Product version and info.",to:"/"}],j=a("./node_modules/react-redux/es/index.js"),k=a("./node_modules/redux-batched-actions/lib/index.js"),w=a("./node_modules/rxjs/_esm5/internal/Observable.js"),N=a("./node_modules/rxjs/_esm5/internal/operators/share.js"),A=a("./node_modules/rxjs/_esm5/internal/operators/debounceTime.js"),M=a("./node_modules/rxjs/_esm5/internal/operators/buffer.js"),Y=a("./src/lib/http.ts");!function(e){e.ALLTIME="ALLTIME",e.BIHOURLY="BIHOURLY",e.DATEOPRANGE="DATEOPRANGE",e.DATEOPRANGESHIFT="DATEOPRANGESHIFT",e.DATETIMERANGE="DATETIMERANGE",e.HOUR="HOUR",e.WEEK="WEEK",e.DATEOP="DATEOP",e.CALENDARPERIOD="CALENDARPERIOD",e.CALENDARPERIODTODATE="CALENDARPERIODTODATE",e.CALENDARQUARTER="CALENDARQUARTER",e.CALENDARYER="CALENDARYER",e.SHIFTHOUR="SHIFTHOUR"}(O||(O={}));var R=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function l(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(l,s)}o((n=n.apply(e,t||[])).next())})};const V=e=>Promise.all([Object(Y.c)("api/platform/intervaltypes"),_(e.IntervalType)]).then(e=>({intervalTypes:e[0].reduce((e,t)=>(e[t.IntervalType]=t,e),{}),interval:e[1]})),_=(e,t=0,a)=>Object(Y.c)(`api/platform/interval/${e}/resolve?offset=${t}${null!=a?`&smartIntervalKey=${a}`:""}`).then(e=>e[0]),P=(e,t,a)=>Object(Y.c)(`api/platform/interval/${e}/next?intervalString=${t}&offset=${a}`).then(e=>e),F=e=>R(void 0,void 0,void 0,function*(){switch(e){case O.CALENDARPERIOD:return(yield Object(Y.c)("api/platform/calendarperiods")).map(({Operation:e,Label:t,PeriodName:a})=>({operation:e,label:t,value:a}));case O.CALENDARQUARTER:return(yield Object(Y.c)("api/platform/calendarquarters")).map(({Operation:e,Label:t,QuarterName:a})=>({operation:e,label:t,value:a}));default:return[]}}),L=()=>({IntervalType:O.DATEOP}),$=e=>{const t=e.getDate();let a=t.toString();t<=9&&(a="0"+t);const n=e.getMonth()+1;let r=n.toString();return n<=9&&(r="0"+n),e.getFullYear().toString()+r+a};var H=a("./src/errorPage/actions.ts"),K=a("./src/common/loading/LoadingContainer.tsx"),W=a("./node_modules/reselect/es/index.js");const U=Object(W.a)(e=>e,e=>(e=>{const t=(e=>{if("$$"!==e.substring(0,2))return{smartIntervalKey:null,intervalString:e};const t=e.indexOf("|");return{smartIntervalKey:-1===t?e.substring(2,e.length):e.substring(2,t),intervalString:-1===t?null:e.substring(t+1,e.length)}})(e);if(null==t.intervalString)throw new Error("parseDateOpString: intervalString cannot be null.");return`${t.intervalString.substring(0,4)}-${t.intervalString.substring(4,6)}-${t.intervalString.substring(6,8)}`})(e)),G=Object(W.a)(e=>e,e=>Object.keys(e).map(t=>e[t]));var B=a("./node_modules/@material-ui/core/FormControl/index.js"),z=a.n(B),J=a("./node_modules/@material-ui/core/InputLabel/index.js"),Q=a.n(J),q=a("./node_modules/@material-ui/core/MenuItem/index.js"),X=a.n(q),Z=a("./node_modules/@material-ui/core/Select/index.js"),ee=a.n(Z);var te=Object(i.withStyles)(({spacing:{unit:e}})=>Object(i.createStyles)({container:{flexGrow:1,margin:e}}))(({classes:e,options:t,value:a,onChange:n})=>r.a.createElement(z.a,{className:e.container},r.a.createElement(Q.a,{htmlFor:"interval"},"Interval"),r.a.createElement(ee.a,{value:a,onChange:n,inputProps:{name:"interval"}},t.map(({IntervalType:e,Label:t})=>r.a.createElement(X.a,{key:e,value:e},t))))),ae=a("./node_modules/@material-ui/core/Input/index.js"),ne=a.n(ae),re=a("./node_modules/@material-ui/core/IconButton/index.js"),ie=a.n(re),le=a("./node_modules/@material-ui/core/InputAdornment/index.js"),se=a.n(le),oe=a("./node_modules/@material-ui/icons/KeyboardArrowLeft.js"),ce=a.n(oe);var de=({onClick:e})=>r.a.createElement(se.a,{position:"start"},r.a.createElement(ie.a,{onClick:e(-1),"aria-label":"Left"},r.a.createElement(ce.a,null))),he=a("./node_modules/@material-ui/icons/KeyboardArrowRight.js"),me=a.n(he);var ue=({onClick:e})=>r.a.createElement(se.a,{position:"end"},r.a.createElement(ie.a,{onClick:e(1),"aria-label":"Right"},r.a.createElement(me.a,null))),pe=a("./node_modules/@material-ui/core/Dialog/index.js"),ve=a.n(pe),ye=a("./node_modules/@material-ui/core/Button/index.js"),ge=a.n(ye),xe=a("./node_modules/classnames/index.js"),Ee=a.n(xe),Ce=a("./node_modules/react-transition-group/TransitionGroup.js"),be=a.n(Ce),Ie=a("./node_modules/react-transition-group/CSSTransition.js"),fe=a.n(Ie);var De=Object(i.withStyles)(e=>{const t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return Object(i.createStyles)({transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-100%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(100%)",transition:t}})})(({classes:e,className:t,children:a,transKey:n,slideDirection:i})=>r.a.createElement(be.a,{className:Ee()(e.transitionContainer,t)},r.a.createElement(fe.a,{key:n,mountOnEnter:!0,unmountOnExit:!0,timeout:350,classNames:{enter:e[`slideEnter-${i}`],enterActive:e.slideEnterActive,exit:e.slideExit,exitActive:e[`slideExitActiveLeft-${i}`]}},a))),Se=a("./node_modules/@material-ui/icons/ChevronLeft.js"),Oe=a.n(Se),Te=a("./node_modules/@material-ui/icons/ChevronRight.js"),je=a.n(Te);var ke=Object(i.withStyles)(e=>Object(i.createStyles)({switchHeader:{display:"flex",alignItems:"center"},transitionContainer:{width:"100%",height:33},textContainer:{textAlign:"center"},iconButton:{zIndex:2,backgroundColor:e.palette.background.paper,"& > *":{backgroundColor:e.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}}}))(({classes:e,previousValid:t,nextValid:a,previous:n,next:i,slideDirection:l,transKey:s,children:o})=>r.a.createElement("div",{className:e.switchHeader},r.a.createElement(ie.a,{disabled:!t(),onClick:n,className:e.iconButton},r.a.createElement(Oe.a,null)),r.a.createElement(De,{slideDirection:l,transKey:s,className:e.transitionContainer},r.a.createElement("div",{className:e.textContainer},o)),r.a.createElement(ie.a,{disabled:!a(),onClick:i,className:e.iconButton},r.a.createElement(je.a,null))));const we=[{short:"Jan",long:"January"},{short:"Feb",long:"February"},{short:"Mar",long:"March"},{short:"Apr",long:"April"},{short:"May",long:"May"},{short:"Jun",long:"June"},{short:"Jul",long:"July"},{short:"Aug",long:"August"},{short:"Sep",long:"September"},{short:"Oct",long:"October"},{short:"Nov",long:"November"},{short:"Dec",long:"December"}],Ne=[{short:"Sun",long:"Sunday"},{short:"Mon",long:"Monday"},{short:"Tue",long:"Tuesday"},{short:"Wed",long:"Wednesday"},{short:"Thu",long:"Thursday"},{short:"Fri",long:"Friday"},{short:"Sat",long:"Saturday"}];var Ae=Object(i.withStyles)(e=>Object(i.createStyles)({weekDay:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},selectedDay:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},invalidInput:{pointerEvents:"none",color:e.palette.text.disabled}}))(({classes:e,active:t,dateDisabled:a,selectDate:n,date:i})=>{return i?r.a.createElement(ie.a,{className:Ee()(e.weekDay,{[e.selectedDay]:t&&((e,t)=>void 0!==e&&void 0!==t&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())(i,t),[e.invalidInput]:a&&a(i)}),disabled:a&&a(i),onClick:(e=>t=>n(e,t))(i)},i.getDate()):r.a.createElement("div",{className:e.weekDay})});var Me=Object(i.withStyles)(e=>Object(i.createStyles)({week:{height:48,display:"flex",justifyContent:"space-around",alignItems:"center"},labelWeekDay:{width:50,color:e.palette.text.hint,lineHeight:"48px",textAlign:"center"}}))(({classes:e,active:t,dateDisabled:a,selectDate:n,tabIndex:i,slideDirection:l})=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.week},Ne.map(({short:t},a)=>r.a.createElement(c.a,{key:"weeklabel-"+a,className:e.labelWeekDay,variant:"body1"},t))),r.a.createElement(De,{slideDirection:l,transKey:i.toString()},r.a.createElement("div",null,(e=>{const t={year:Math.floor(e/12),month:e%12},a=new Date(t.year,t.month,1),n=[Array(a.getDay()).fill(void 0)];let r=a.getDay();for(let e=a;e.getMonth()===t.month;e=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1))n[Math.floor(r/7)]?n[Math.floor(r/7)]=[...n[Math.floor(r/7)],new Date(e.getFullYear(),e.getMonth(),e.getDate())]:n[Math.floor(r/7)]=[new Date(e.getFullYear(),e.getMonth(),e.getDate())],r++;for(let e=6;!n[n.length-1][e];e--)n[n.length-1][e]=void 0;return n})(i).map((i,l)=>r.a.createElement("div",{className:e.week,key:"week-"+l},i.map((e,i)=>r.a.createElement(Ae,{key:"day-"+i,active:t,dateDisabled:a,selectDate:n,date:e}))))))));var Ye=Object(i.withStyles)(e=>Object(i.createStyles)({years:{height:48,display:"flex",justifyContent:"space-around",alignItems:"center"},invalidInput:{color:e.palette.text.disabled}}))(({classes:e,selectCalendarYear:t,yearIndex:a,year:n,yearInvalid:i,slideDirection:l})=>r.a.createElement(De,{slideDirection:l,transKey:a.toString()},r.a.createElement("div",null,(e=>{const t=[];let a=0;for(let n=18*e;n<18*(e+1);n++)t[Math.floor(a/3)]?t[Math.floor(a/3)]=[...t[Math.floor(a/3)],n]:t[Math.floor(a/3)]=[n],a++;return t})(a).map((a,l)=>r.a.createElement("div",{className:e.years,key:"years-"+l},a.map((a,l)=>r.a.createElement(ge.a,{variant:n===a?"contained":"text",disabled:i(a),onClick:t(a),key:"year-"+l},r.a.createElement(c.a,{className:i(a)?e.invalidInput:void 0,variant:"body1"},a))))))));var Re=Object(i.withStyles)(({spacing:{unit:e}})=>Object(i.createStyles)({calendarContainer:{minHeight:375,overflow:"hidden",padding:`0 ${e}px ${e}px`}}))(({classes:e,isMobile:t,mode:a,previousMonthValid:n,nextMonthValid:i,previousMonth:l,nextMonth:s,monthIndexValid:o,tabIndex:c,active:d,dateDisabled:h,selectDate:m,showYearsCalendar:u,previousYearsValid:p,previousYears:v,nextYearsValid:y,nextYears:g,yearIndexValid:x,yearIndex:E,selectCalendarYear:C,year:b,yearInvalid:I})=>r.a.createElement("div",{className:e.calendarContainer,style:{height:t?"100%":void 0}},"month"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{previousValid:n,nextValid:i,previous:l,next:s,slideDirection:"left",transKey:c.toString()},r.a.createElement(ge.a,{onClick:u},`${we[c%12].long}, ${Math.floor(c/12)}`)),r.a.createElement("div",null,o(c)?r.a.createElement(Me,{active:d,dateDisabled:h,selectDate:m,showYearsCalendar:u,tabIndex:c,slideDirection:"left"}):r.a.createElement("div",{key:c}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{previousValid:p,nextValid:y,previous:v,next:g,slideDirection:"right",transKey:E.toString()},r.a.createElement(ge.a,{onClick:C()},`${18*E} - ${18*E+17}`)),x(E)?r.a.createElement(Ye,{selectCalendarYear:C,yearIndex:E,year:b,yearInvalid:I,slideDirection:"right"}):r.a.createElement("div",{key:E}))));var Ve=Object(i.withStyles)(({palette:{primary:e,secondary:t},typography:{fontWeightMedium:a}})=>Object(i.createStyles)({title:{backgroundColor:e.main,padding:"24px 24px 20px"},year:{color:t.contrastText},day:{color:t.contrastText,fontWeight:a}}))(({classes:e,value:t})=>r.a.createElement("div",{className:e.title},r.a.createElement(c.a,{variant:"h6",className:e.year},t.getFullYear()),r.a.createElement(c.a,{variant:"h4",className:e.day},`${Ne[t.getDay()].short}, ${we[t.getMonth()].short} ${t.getDate()}`))),_e=a("./node_modules/@material-ui/core/DialogActions/index.js"),Pe=a.n(_e);var Fe=Object(i.withStyles)(e=>Object(i.createStyles)({root:{justifyContent:"space-between"},button:{marginRight:e.spacing.unit}}))(({classes:e,setToday:t,onCancelClick:a,confirmDate:n,okToConfirm:i})=>r.a.createElement(Pe.a,{className:e.root},r.a.createElement(ge.a,{size:"small",color:"secondary",onClick:t},"Today"),r.a.createElement("div",null,r.a.createElement(ge.a,{className:e.button,size:"small",variant:"outlined",color:"secondary",onClick:a},"Cancel"),i&&r.a.createElement(ge.a,{size:"small",variant:"contained",color:"secondary",onClick:n},"Ok"))));var Le=class extends r.a.Component{constructor(e){super(e),this.isMobile=window.innerWidth<=500,this.setToday=(()=>{const e=new Date;this.setState({selectedValue:e,month:e.getMonth(),year:e.getFullYear(),yearIndex:Math.floor(e.getFullYear()/18)})}),this.selectDate=((e,t)=>{const{onClose:a,okToConfirm:n}=this.props;n?this.setState({selectedValue:e}):a(e)}),this.confirmDate=(e=>{const{onClose:t}=this.props;t(this.state.selectedValue)}),this.handleCancelClick=(e=>{const{onClose:t}=this.props;t(this.props.value)}),this.showYearsCalendar=(()=>{const{year:e}=this.state;this.setState({mode:"year",yearIndex:Math.floor(e/18)})}),this.selectCalendarYear=(e=>{const{min:t,max:a}=this.props,{month:n}=this.state;e?this.setState({mode:"month",year:e,month:t&&n<t.getMonth()&&e===t.getFullYear()?t.getMonth():a&&n>a.getMonth()&&e===a.getFullYear()?a.getMonth():n}):this.setState({mode:"month"})}),this.previousYearsValid=(()=>{const{min:e}=this.props,{yearIndex:t}=this.state;return t>=1&&(void 0===e||t>=Math.ceil(e.getFullYear()/18))}),this.previousYears=(()=>{const{yearIndex:e}=this.state;this.setState({yearIndex:e-1})}),this.nextYearsValid=(()=>{const{max:e}=this.props,{yearIndex:t}=this.state;return void 0===e||t<Math.floor(e.getFullYear()/18)}),this.nextYears=(()=>{const{yearIndex:e}=this.state;this.setState({yearIndex:e+1})}),this.yearInvalid=(e=>{const{min:t,max:a}=this.props,{year:n}=this.state;return t&&e<t.getFullYear()||a&&e>a.getFullYear()||n===e}),this.previousMonthValid=(()=>{const{min:e}=this.props,{month:t,year:a}=this.state;return void 0===e||t>e.getMonth()||a>e.getFullYear()}),this.previousMonth=(()=>{const{month:e,year:t}=this.state;this.setState({year:t-(e<=0?1:0),month:e<=0?11:e-1})}),this.nextMonthValid=(()=>{const{max:e}=this.props,{month:t,year:a}=this.state;return void 0===e||t<e.getMonth()||a<e.getFullYear()}),this.nextMonth=(()=>{const{month:e,year:t}=this.state;this.setState({year:t+(e>=11?1:0),month:e>=11?0:e+1})}),this.yearIndexValid=(e=>{const{yearIndex:t}=this.state;return e<=t+2&&e>=t-2}),this.monthIndexValid=(e=>{const{month:t,year:a}=this.state,n=12*a+t;return e<=n+2&&e>=n-2});const t=new Date;let a=new Date(t.getTime());const{min:n,max:r}=e;r&&t.getTime()>r.getTime()?a=new Date(r.getTime()):n&&t.getTime()<n.getTime()&&(a=new Date(n.getTime())),this.state={mode:"month",selectedValue:e.value,month:a.getMonth(),year:a.getFullYear(),yearIndex:Math.floor(a.getFullYear()/18)}}render(){const{value:e,isOpen:t,dateDisabled:a,okToConfirm:n}=this.props,{selectedValue:i,year:l,month:s,mode:o,yearIndex:c}=this.state,d=n?i:e,h=12*l+s;return r.a.createElement(ve.a,{scroll:"body",fullScreen:this.isMobile,open:t,onClose:this.handleCancelClick,maxWidth:"xs"},r.a.createElement(Ve,{value:i}),r.a.createElement(Re,{isMobile:this.isMobile,mode:o,previousMonthValid:this.previousMonthValid,nextMonthValid:this.nextMonthValid,previousMonth:this.previousMonth,nextMonth:this.nextMonth,monthIndexValid:this.monthIndexValid,tabIndex:h,active:d,dateDisabled:a,selectDate:this.selectDate,showYearsCalendar:this.showYearsCalendar,setToday:this.setToday,onCancelClick:this.handleCancelClick,confirmDate:this.confirmDate,previousYearsValid:this.previousYearsValid,previousYears:this.previousYears,nextYearsValid:this.nextYearsValid,nextYears:this.nextYears,yearIndexValid:this.yearIndexValid,yearIndex:c,selectCalendarYear:e=>()=>this.selectCalendarYear(e),year:l,yearInvalid:this.yearInvalid}),r.a.createElement(Fe,{setToday:this.setToday,onCancelClick:this.handleCancelClick,confirmDate:this.confirmDate,okToConfirm:n}))}};var $e=({className:e,intervalStringDate:t,onNextIntevalClick:a,isOpen:n,onOpen:i,onClose:l})=>r.a.createElement(z.a,{className:e},r.a.createElement(ne.a,{type:"date",inputProps:{name:"interval-string",onClick:i},value:t,startAdornment:r.a.createElement(de,{onClick:a}),endAdornment:r.a.createElement(ue,{onClick:a})}),r.a.createElement(Le,{isOpen:n,value:new Date(t),onClose:l}));var He=class extends n.Component{constructor(){super(...arguments),this.state={isOpen:!1},this.handleClickOpen=(()=>{this.setState({isOpen:!0})}),this.handleClose=(e=>{this.props.onIntervalStringChange($(e)),this.setState({isOpen:!1})})}render(){const{className:e,intervalStringDate:t,onNextIntevalClick:a}=this.props;return r.a.createElement($e,{className:e,intervalStringDate:t,onNextIntevalClick:a,isOpen:this.state.isOpen,onOpen:this.handleClickOpen,onClose:this.handleClose})}},Ke=a("./node_modules/@material-ui/core/TextField/index.js"),We=a.n(Ke);var Ue=({className:e,calendarValues:t,intervalStringDate:a,handleNextIntevalClick:n})=>r.a.createElement(We.a,{select:!0,className:e,value:a,InputProps:{startAdornment:r.a.createElement(de,{onClick:n}),endAdornment:r.a.createElement(ue,{onClick:n})}},t.map(({label:e,value:t})=>r.a.createElement(X.a,{key:t,value:t},e))),Ge=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function l(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(l,s)}o((n=n.apply(e,t||[])).next())})};var Be=Object(j.connect)(null,e=>({dispatchHandleException:t=>{e(Object(k.batchActions)(Object(H.b)(t)))}}))(class extends n.Component{constructor(){super(...arguments),this.state={calendarValues:[]},this.isComponentUnmouted=!1}componentDidMount(){return Ge(this,void 0,void 0,function*(){const{dispatchHandleException:e,intervalType:t}=this.props;try{const a=yield F(t);this.isComponentUnmouted||this.setState({calendarValues:a})}catch(t){e(t)}})}componentWillUnmount(){this.isComponentUnmouted=!0}render(){const{calendarValues:e}=this.state,{className:t,intervalStringDate:a,handleNextIntevalClick:n}=this.props;return r.a.createElement(Ue,{className:t,calendarValues:e,intervalStringDate:a,handleNextIntevalClick:n})}});var ze=({className:e,interval:t,onIntervalStringChange:a,onNextIntevalClick:n})=>{if(null==t.IntervalString)return null;let i=t.IntervalString;switch(t.IntervalType){case O.DATEOP:case O.CALENDARPERIODTODATE:return i=U(t.IntervalString),r.a.createElement(He,{className:e,intervalStringDate:i,onIntervalStringChange:a,onNextIntevalClick:n});case O.CALENDARPERIOD:case O.CALENDARQUARTER:return r.a.createElement(Be,{className:e,intervalType:t.IntervalType,intervalStringDate:i,handleNextIntevalClick:n});default:return null}};var Je=Object(i.withStyles)(({spacing:{unit:e}})=>Object(i.createStyles)({container:{display:"flex",width:"100%"},smartSelector:{flexGrow:1,margin:e},stringPickerContainer:{flexGrow:2,margin:`${3*e}px ${e}px ${e}px ${e}px`}}))(({classes:e,intervalTypes:t,initIntervalType:a,interval:n,onIntervalTypeChange:i,onIntervalStringChange:l,onNextIntevalClick:s,onSmartKeyChange:o})=>{const c=t[a].SmartIntervals;return r.a.createElement("div",{className:e.container},r.a.createElement(te,{options:G(t),value:a,onChange:i}),r.a.createElement(ze,{className:e.stringPickerContainer,interval:n,onIntervalStringChange:l,onNextIntevalClick:s}),c.length>0&&r.a.createElement(z.a,{className:e.smartSelector},r.a.createElement(Q.a,{htmlFor:"smartInterval"},"Smart Date"),r.a.createElement(ee.a,{value:n.smartIntervalKey||"",onChange:o},r.a.createElement(X.a,{value:""},r.a.createElement("em",null,"None")),c.map(({Key:e})=>r.a.createElement(X.a,{key:e,value:e},e)))))}),Qe=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function l(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(l,s)}o((n=n.apply(e,t||[])).next())})};var qe=Object(j.connect)(null,e=>({dispatchHandleException:t=>{e(Object(k.batchActions)(Object(H.b)(t)))}}))(class extends n.Component{constructor(e){super(e),this.handleIntervalTypeChange=(e=>Qe(this,void 0,void 0,function*(){try{const t=yield _(e.target.value);this.setState({intervalType:e.target.value,interval:Object.assign({},t)})}catch(e){this.props.dispatchHandleException(e)}})),this.handleIntervalStringChange=(e=>{this.setState(t=>null!=t.interval?{interval:Object.assign({},t.interval,{IntervalString:e})}:t)}),this.handleSmartKeyChange=(e=>Qe(this,void 0,void 0,function*(){try{const{interval:t}=this.state;if(null==t)return;const a=yield _(t.IntervalType,0,e.target.value);this.setState({interval:Object.assign({},a,{smartIntervalKey:e.target.value})})}catch(e){this.props.dispatchHandleException(e)}})),this.debounceNextIntervalAsync=(e=>Qe(this,void 0,void 0,function*(){try{const{interval:t}=this.state;if(null==t||null==t.IntervalString)return;const{IntervalType:a,IntervalString:n}=t,r=yield P(a,n,e.reduce((e,t)=>e+t,0));this.setState({interval:Object.assign({},r)})}catch(e){this.props.dispatchHandleException(e)}})),this.nextIntevalClick$=w.a.create(e=>{this.handleNextIntevalClick=(t=>()=>{e.next(t)})}).pipe(Object(N.a)()),this.state={intervalTypes:{},intervalType:e.initValue&&e.initValue.IntervalType,interval:e.initValue}}componentDidMount(){return Qe(this,void 0,void 0,function*(){const{initValue:e,onChange:t,dispatchHandleException:a}=this.props,n=this.nextIntevalClick$.pipe(Object(A.a)(250));this.nextIntevalClick$.pipe(Object(M.a)(n)).subscribe(e=>{this.debounceNextIntervalAsync(e)});try{const{intervalTypes:n,interval:r}=yield V(e||L());this.setState({intervalTypes:n,intervalType:r.IntervalType,interval:r}),(null==e||e&&e.IntervalType===r.IntervalType&&e.IntervalString===r.IntervalString)&&t(r)}catch(e){a(e)}})}render(){const{intervalType:e,interval:t,intervalTypes:a}=this.state,n=null==t||null==e||null==this.handleNextIntevalClick;return r.a.createElement(K.a,{isLoading:n},!n&&r.a.createElement(Je,{intervalTypes:a,initIntervalType:e,interval:t,onIntervalTypeChange:this.handleIntervalTypeChange,onIntervalStringChange:this.handleIntervalStringChange,onSmartKeyChange:this.handleSmartKeyChange,onNextIntevalClick:this.handleNextIntevalClick}))}}),Xe=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a};const Ze=Object(i.createStyles)({container:{padding:25}}),et=e=>{console.log(e)};t.default=Object(i.withStyles)(Ze)(({classes:e})=>r.a.createElement(s.a,{container:!0,className:e.container,spacing:16},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(qe,{onChange:et}),r.a.createElement(c.a,{variant:"h5",gutterBottom:!0},"Welcome")),T.map(e=>{var{id:t}=e,a=Xe(e,["id"]);return r.a.createElement(s.a,{item:!0,md:4,xs:12,key:t},r.a.createElement(y,Object.assign({},a)))})))}}]);
//# sourceMappingURL=6.bundle.js.map